{"version":3,"sources":["webpack:///./src/views/UserList.vue?9c04","webpack:///src/views/UserList.vue","webpack:///./src/views/UserList.vue?d1fa","webpack:///./src/views/UserList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fill-height","fluid","grid-list-xl","justify-center","wrap","staticClass","xs6","label-position","label","staticStyle","width","placeholder","model","value","callback","$$v","sUserInfo","expression","size","type","on","click","$event","getSearchUserInfo","_v","md12","color","title","text","headers","items","userInfoListPage","hide-actions","scopedSlots","_u","key","fn","ref","item","_s","userID","realName","userNo","userName","phone","email","password","offset-y","status","_g","dark","_l","item2","index","changeUserStatus","listPage","page","length","maxPage","total-visible","staticRenderFns","UserListvue_type_script_lang_js_","data","sortable","align","userInfoList","statusList","methods","test","console","log","start","end","i","undefined","push","that","axios","post","then","res","$router","catch","$store","state","Math","ceil","computed","Object","objectSpread","vuex_esm","login","created","views_UserListvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d212f65.6518d346.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"grid-list-xl\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-right\",attrs:{\"xs6\":\"\"}},[_c('el-form',{attrs:{\"label-position\":\"right\"}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"搜索关键字\"},model:{value:(_vm.sUserInfo),callback:function ($$v) {_vm.sUserInfo=$$v},expression:\"sUserInfo\"}})],1)],1)],1),_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs6\":\"\"}},[_c('el-button',{staticStyle:{},attrs:{\"size\":\"medium\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.getSearchUserInfo(_vm.sUserInfo)}}},[_vm._v(\"搜索\")])],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('material-card',{attrs:{\"color\":\"green\",\"title\":\"用户信息列表\",\"text\":\"\"}},[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.userInfoListPage,\"hide-actions\":\"\"},scopedSlots:_vm._u([{key:\"items\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',[_vm._v(_vm._s(item.userID))]),_c('td',[_vm._v(_vm._s(item.realName))]),_c('td',[_vm._v(_vm._s(item.userNo))]),_c('td',[_vm._v(_vm._s(item.userName))]),_c('td',[_vm._v(_vm._s(item.phone))]),_c('td',[_vm._v(_vm._s(item.email))]),_c('td',[_vm._v(_vm._s(item.password))]),_c('td',{staticClass:\"text-xs-right\"},[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [(item.status=='000')?_c('v-btn',_vm._g({attrs:{\"color\":\"green\",\"dark\":\"\"}},on),[_vm._v(\"正常\")]):(item.status=='100')?_c('v-btn',_vm._g({attrs:{\"color\":\"orange\",\"dark\":\"\"}},on),[_vm._v(\"警告\")]):_c('v-btn',_vm._g({attrs:{\"color\":\"red\",\"dark\":\"\"}},on),[_vm._v(\"已封\")])]}}],null,true)},[_c('v-list',_vm._l((_vm.statusList),function(item2,index){return _c('v-list-tile',{key:index},[(item2.value=='000')?_c('v-btn',{attrs:{\"color\":\"green\"},on:{\"click\":function($event){return _vm.changeUserStatus(item.userID, '000')}}},[_vm._v(_vm._s(item2.status))]):(item2.value=='100')?_c('v-btn',{attrs:{\"color\":\"orange\"},on:{\"click\":function($event){return _vm.changeUserStatus(item.userID, '100')}}},[_vm._v(_vm._s(item2.status))]):_c('v-btn',{attrs:{\"color\":\"red\"},on:{\"click\":function($event){return _vm.changeUserStatus(item.userID, '200')}}},[_vm._v(_vm._s(item2.status))])],1)}),1)],1)],1)]}}])},[[_c('span',{staticClass:\"subheading font-weight-light text-success text--darken-3\"})]],2)],1)],1),_c('div',{staticClass:\"text-xs-center\",on:{\"click\":function($event){return _vm.listPage(_vm.page)}}},[_c('v-pagination',{attrs:{\"length\":_vm.maxPage,\"total-visible\":7},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    fill-height\n    fluid\n    grid-list-xl>\n    <v-layout\n      justify-center\n      wrap>\n      <v-flex\n        xs6\n        class=\"text-xs-right\">\n        <el-form label-position=\"right\">\n          <el-form-item label=\"\">\n            <el-input\n              v-model=\"sUserInfo\"\n              placeholder=\"搜索关键字\"\n              style=\"width:200px\"\n            ></el-input>\n          </el-form-item>\n        </el-form>\n      </v-flex>\n      <v-flex\n        xs6\n        class=\"text-xs-center\">\n        <el-button\n          style=\"center\"\n          size=\"medium\"\n          type=\"warning\"\n          @click=\"getSearchUserInfo(sUserInfo)\"\n        >搜索</el-button>\n      </v-flex>\n      <v-flex md12>\n        <material-card\n          color=\"green\"\n          title=\"用户信息列表\"\n          text=\"\">\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"userInfoListPage\"\n            hide-actions>\n            <template>\n              <span\n                class=\"subheading font-weight-light text-success text--darken-3\"\n              />\n            </template>\n            <template\n              slot=\"items\"\n              slot-scope=\"{ item }\">\n              <td>{{ item.userID }}</td>\n              <td>{{ item.realName }}</td>\n              <td>{{ item.userNo }}</td>\n              <td>{{ item.userName }}</td>\n              <td>{{ item.phone }}</td>\n              <td>{{ item.email }}</td>\n              <td>{{ item.password }}</td>\n              <td class=\"text-xs-right\">\n                <v-menu offset-y>\n                  <template v-slot:activator=\"{ on }\">\n                    <v-btn\n                      v-if=\"item.status=='000'\"\n                      color=\"green\"\n                      dark\n                      v-on=\"on\">正常</v-btn>\n                    <v-btn\n                      v-else-if=\"item.status=='100'\"\n                      color=\"orange\"\n                      dark\n                      v-on=\"on\">警告</v-btn>\n                    <v-btn\n                      v-else\n                      color=\"red\"\n                      dark\n                      v-on=\"on\">已封</v-btn>\n                  </template>\n                  <v-list>\n                    <v-list-tile\n                      v-for=\"(item2, index) in statusList\"\n                      :key=\"index\">\n                      <v-btn\n                        v-if=\"item2.value=='000'\"\n                        color=\"green\"\n                        @click=\"changeUserStatus(item.userID, '000')\"\n                      >{{ item2.status }}</v-btn>\n                      <v-btn\n                        v-else-if=\"item2.value=='100'\"\n                        color=\"orange\"\n                        @click=\"changeUserStatus(item.userID, '100')\"\n                      >{{ item2.status }}</v-btn>\n                      <v-btn\n                        v-else\n                        color=\"red\"\n                        @click=\"changeUserStatus(item.userID, '200')\"\n                      >{{ item2.status }}</v-btn>\n                    </v-list-tile>\n                  </v-list>\n                </v-menu>\n                <!-- <v-btn\n                  v-if=\"item.status == '000'\"\n                  color=\"green\"\n                  dark\n                  @click=\"changeUserStatus(item.userID)\"\n                  v-on=\"on\"\n                >正常\n                </v-btn>\n                <v-btn\n                  v-else-if=\"item.status == '100'\"\n                  color=\"orange\"\n                  dark\n                  v-on=\"on\"\n                >警告</v-btn>\n                <v-btn\n                  v-else\n                  color=\"red\"\n                  dark\n                  v-on=\"on\"\n                >已封</v-btn>-->\n              </td>\n            </template>\n          </v-data-table>\n        </material-card>\n      </v-flex>\n      <div\n        class=\"text-xs-center\"\n        @click=\"listPage(page)\"\n      >\n        <v-pagination\n          v-model=\"page\"\n          :length=\"maxPage\"\n          :total-visible=\"7\"\n        ></v-pagination>\n      </div>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport {\n  mapState\n} from 'vuex'\nexport default {\n  data: () => ({\n    // 用于列表 分页的page\n    page: 1,\n    // 用户列表 表格头部\n    headers: [\n      {\n        sortable: false,\n        text: 'ID',\n        value: 'userID'\n      },\n      {\n        sortable: false,\n        text: '姓名',\n        value: 'realName'\n      },\n      {\n        sortable: false,\n        text: '学号',\n        value: 'userNo'\n      },\n      {\n        sortable: false,\n        text: '昵称',\n        value: 'userName'\n      },\n      {\n        sortable: false,\n        text: '电话',\n        value: 'phone'\n      },\n      {\n        sortable: false,\n        text: '邮箱',\n        value: 'email'\n      },\n      {\n        sortable: false,\n        text: '密码',\n        value: 'password'\n      },\n      {\n        sortable: false,\n        text: '状态',\n        value: 'status',\n        align: 'right'\n      }\n    ],\n    // 本页面的 用户信息列表\n    userInfoList: [],\n    // 本页面 当前分页的用户信息列表\n    userInfoListPage: [],\n    // 用户状态选项列表\n    statusList: [\n      { value: '000', status: '正常', color: 'green' },\n      { value: '100', status: '警告', color: 'orange' },\n      { value: '200', status: '已封', color: 'red' }\n    ],\n    // 搜索的用户关键词\n    sUserInfo: '',\n  }),\n  methods: {\n    test () {\n      console.log('hh')\n    },\n    listPage (page) {\n      this.userInfoListPage = []\n      console.log(page)\n      var start = page*20 - 20\n      var end = start + 20\n      for( var i = start; i < end; i++){\n        if( this.userInfoList[i] != undefined ){\n          this.userInfoListPage.push(this.userInfoList[i])\n        } else {\n          break\n        }\n      }\n      console.log(this.userInfoListPage)\n    },\n    // 改变指定用户的状态\n    changeUserStatus (userID, status) {\n      console.log(userID, status)\n      var that = this\n      that.axios\n        .post('/api/changeUserStatus', {\n          userID,\n          status\n        })\n        .then(function (res) {\n          if (res.data === '0000') {\n            that.$router.push('/u-refresh')\n          }\n        })\n        .catch(function (res) {\n          console.log(res)\n        })\n    },\n    // 得到用户信息列表\n    getSearchUserInfo (sUserInfo) {\n      var that = this\n      // 获取用户信息并存储在本地仓库\n      this.axios\n        .post('/api/getSearchUserInfo', {\n          sUserInfo\n        }).then(function (res) {\n          that.$store.state.userInfoList = res.data\n          that.userInfoList = res.data\n          that.maxPage = Math.ceil(res.data.length/20)\n          // 再次搜索请求时，将原有的清空\n          that.userInfoListPage = []\n          for( var i = 0; i < 20; i++){\n            if( that.userInfoList[i] != undefined ){\n              that.userInfoListPage.push(that.userInfoList[i])\n            } else {\n              break\n            }\n          }\n          console.log(that.userInfoListPage)\n        })\n        .catch(function (res) {\n          console.log(res)\n        })\n    }\n  },\n  computed: {\n    ...mapState({\n      login: state => state.login\n    })\n  },\n  created () {\n    if (this.login) {\n      var that = this\n      that.getSearchUserInfo(that.sUserInfo)\n    } else {\n      this.$router.push('/admin')\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserList.vue?vue&type=template&id=015f5a00&\"\nimport script from \"./UserList.vue?vue&type=script&lang=js&\"\nexport * from \"./UserList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
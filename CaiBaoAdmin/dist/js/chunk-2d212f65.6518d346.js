(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d212f65"],{ab3a:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-flex",{staticClass:"text-xs-right",attrs:{xs6:""}},[s("el-form",{attrs:{"label-position":"right"}},[s("el-form-item",{attrs:{label:""}},[s("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索关键字"},model:{value:t.sUserInfo,callback:function(e){t.sUserInfo=e},expression:"sUserInfo"}})],1)],1)],1),s("v-flex",{staticClass:"text-xs-center",attrs:{xs6:""}},[s("el-button",{staticStyle:{},attrs:{size:"medium",type:"warning"},on:{click:function(e){return t.getSearchUserInfo(t.sUserInfo)}}},[t._v("搜索")])],1),s("v-flex",{attrs:{md12:""}},[s("material-card",{attrs:{color:"green",title:"用户信息列表",text:""}},[s("v-data-table",{attrs:{headers:t.headers,items:t.userInfoListPage,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){var a=e.item;return[s("td",[t._v(t._s(a.userID))]),s("td",[t._v(t._s(a.realName))]),s("td",[t._v(t._s(a.userNo))]),s("td",[t._v(t._s(a.userName))]),s("td",[t._v(t._s(a.phone))]),s("td",[t._v(t._s(a.email))]),s("td",[t._v(t._s(a.password))]),s("td",{staticClass:"text-xs-right"},[s("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return["000"==a.status?s("v-btn",t._g({attrs:{color:"green",dark:""}},r),[t._v("正常")]):"100"==a.status?s("v-btn",t._g({attrs:{color:"orange",dark:""}},r),[t._v("警告")]):s("v-btn",t._g({attrs:{color:"red",dark:""}},r),[t._v("已封")])]}}],null,!0)},[s("v-list",t._l(t.statusList,function(e,r){return s("v-list-tile",{key:r},["000"==e.value?s("v-btn",{attrs:{color:"green"},on:{click:function(e){return t.changeUserStatus(a.userID,"000")}}},[t._v(t._s(e.status))]):"100"==e.value?s("v-btn",{attrs:{color:"orange"},on:{click:function(e){return t.changeUserStatus(a.userID,"100")}}},[t._v(t._s(e.status))]):s("v-btn",{attrs:{color:"red"},on:{click:function(e){return t.changeUserStatus(a.userID,"200")}}},[t._v(t._s(e.status))])],1)}),1)],1)],1)]}}])},[[s("span",{staticClass:"subheading font-weight-light text-success text--darken-3"})]],2)],1)],1),s("div",{staticClass:"text-xs-center",on:{click:function(e){return t.listPage(t.page)}}},[s("v-pagination",{attrs:{length:t.maxPage,"total-visible":7},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},r=[],n=s("cebc"),o=(s("cadf"),s("551c"),s("f751"),s("097d"),s("2f62")),i={data:function(){return{page:1,headers:[{sortable:!1,text:"ID",value:"userID"},{sortable:!1,text:"姓名",value:"realName"},{sortable:!1,text:"学号",value:"userNo"},{sortable:!1,text:"昵称",value:"userName"},{sortable:!1,text:"电话",value:"phone"},{sortable:!1,text:"邮箱",value:"email"},{sortable:!1,text:"密码",value:"password"},{sortable:!1,text:"状态",value:"status",align:"right"}],userInfoList:[],userInfoListPage:[],statusList:[{value:"000",status:"正常",color:"green"},{value:"100",status:"警告",color:"orange"},{value:"200",status:"已封",color:"red"}],sUserInfo:""}},methods:{test:function(){console.log("hh")},listPage:function(t){this.userInfoListPage=[],console.log(t);for(var e=20*t-20,s=e+20,a=e;a<s;a++){if(void 0==this.userInfoList[a])break;this.userInfoListPage.push(this.userInfoList[a])}console.log(this.userInfoListPage)},changeUserStatus:function(t,e){console.log(t,e);var s=this;s.axios.post("/api/changeUserStatus",{userID:t,status:e}).then(function(t){"0000"===t.data&&s.$router.push("/u-refresh")}).catch(function(t){console.log(t)})},getSearchUserInfo:function(t){var e=this;this.axios.post("/api/getSearchUserInfo",{sUserInfo:t}).then(function(t){e.$store.state.userInfoList=t.data,e.userInfoList=t.data,e.maxPage=Math.ceil(t.data.length/20),e.userInfoListPage=[];for(var s=0;s<20;s++){if(void 0==e.userInfoList[s])break;e.userInfoListPage.push(e.userInfoList[s])}console.log(e.userInfoListPage)}).catch(function(t){console.log(t)})}},computed:Object(n["a"])({},Object(o["d"])({login:function(t){return t.login}})),created:function(){if(this.login){var t=this;t.getSearchUserInfo(t.sUserInfo)}else this.$router.push("/admin")}},l=i,u=s("2877"),c=Object(u["a"])(l,a,r,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d212f65.6518d346.js.map
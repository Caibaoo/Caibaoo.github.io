{"remainingRequest":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\src\\views\\Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\src\\views\\Admin.vue","mtime":1552538721352},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n  mapMutations,\n  mapState\n} from 'vuex'\nexport default {\n  data: () => ({\n    adminLoginInfo: {\n      adminNo: '',\n      adminPW: ''\n    }\n  }),\n  methods: {\n    test () {},\n    logOut () {\n      localStorage.clear()\n      this.$store.commit('LOGOUT')\n    },\n    adminLogin () {\n      var that = this\n      var adminNo = that.adminLoginInfo.adminNo\n      var adminPW = that.adminLoginInfo.adminPW\n      that.axios.post('/api/adminLogin', {\n        adminNo,\n        adminPW\n      }).then(function (res) {\n        if (res.data[0].admin !=null ) {\n          console.log(res.data)\n          that.$store.state.userInfo = res.data[0]\n          localStorage.setItem('adminInfo', JSON.stringify(res.data[0]))\n          localStorage.setItem('login', true)\n          that.$store.commit('LOGIN')\n          that.$message({\n            type: 'success',\n            message: '登录成功'\n          })\n        }\n      }).catch(function (res) {\n        that.$message.error(\"请检查用户和密码！\");\n      })\n    }\n  },\n  computed: {\n    ...mapState({\n      disabledBtn: state => state.disabledBtn,\n      disabledTable: state => state.disabledTable,\n      login: state => state.login\n    })\n  },\n  created () {\n    var tmp = localStorage.getItem('login')\n    if (tmp) {\n      this.$store.commit('LOGIN')\n    }\n  }\n}\n",{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Admin.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container\n    fill-height\n    fluid\n    grid-list-xl>\n    <v-layout\n      justify-center\n      wrap\n    >\n      <v-flex\n        xs12\n        md8\n      >\n        <material-card\n          color=\"green\"\n          title=\"登录\"\n          text=\"请输入您的账号密码以登录\"\n        >\n          <v-form>\n            <v-container py-0>\n              <v-layout wrap>\n                <v-flex\n                  xs12\n                  md4\n                >\n                  <v-icon>mdi-account</v-icon>\n                  <v-text-field\n                    v-model=\"adminLoginInfo.adminNo\"\n                    :disabled=\"disabledBtn\"\n                    class=\"purple-input\"\n                    label=\"账号\"/>\n                </v-flex>\n                <v-flex\n                  xs12\n                  md4\n                >\n                  <v-icon>mdi-lock</v-icon>\n                  <v-text-field\n                    v-model=\"adminLoginInfo.adminPW\"\n                    :disabled=\"disabledBtn\"\n                    class=\"purple-input\"\n                    label=\"密码\"\n                  />\n                </v-flex>\n                <v-flex\n                  xs12\n                  text-xs-right\n                >\n                  <v-btn\n                    v-if=\"!login\"\n                    class=\"mx-0 font-weight-light\"\n                    color=\"info\"\n                    @click=\"adminLogin()\"\n                  >\n                    登录\n                  </v-btn>\n                  <v-btn\n                    v-else\n                    class=\"mx-0 font-weight-light\"\n                    color=\"warning\"\n                    @click=\"logOut()\"\n                  >\n                    退出登录\n                  </v-btn>\n                </v-flex>\n              </v-layout>\n            </v-container>\n          </v-form>\n        </material-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport {\n  mapMutations,\n  mapState\n} from 'vuex'\nexport default {\n  data: () => ({\n    adminLoginInfo: {\n      adminNo: '',\n      adminPW: ''\n    }\n  }),\n  methods: {\n    test () {},\n    logOut () {\n      localStorage.clear()\n      this.$store.commit('LOGOUT')\n    },\n    adminLogin () {\n      var that = this\n      var adminNo = that.adminLoginInfo.adminNo\n      var adminPW = that.adminLoginInfo.adminPW\n      that.axios.post('/api/adminLogin', {\n        adminNo,\n        adminPW\n      }).then(function (res) {\n        if (res.data[0].admin !=null ) {\n          console.log(res.data)\n          that.$store.state.userInfo = res.data[0]\n          localStorage.setItem('adminInfo', JSON.stringify(res.data[0]))\n          localStorage.setItem('login', true)\n          that.$store.commit('LOGIN')\n          that.$message({\n            type: 'success',\n            message: '登录成功'\n          })\n        }\n      }).catch(function (res) {\n        that.$message.error(\"请检查用户和密码！\");\n      })\n    }\n  },\n  computed: {\n    ...mapState({\n      disabledBtn: state => state.disabledBtn,\n      disabledTable: state => state.disabledTable,\n      login: state => state.login\n    })\n  },\n  created () {\n    var tmp = localStorage.getItem('login')\n    if (tmp) {\n      this.$store.commit('LOGIN')\n    }\n  }\n}\n</script>\n"]}]}
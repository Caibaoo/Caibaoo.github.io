{"remainingRequest":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\src\\views\\Notifications.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\src\\views\\Notifications.vue","mtime":1555807284822},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n  mapState\n} from 'vuex'\nexport default {\n  data: () => ({\n    sNoticeType: '0',\n    sArticleNo: '0',\n    sText: '',\n    list: '',\n    // 启事类型\n    noticeType: [\n      { name: '全部', index: '0', showTemporary: false },\n      { name: '丢失', index: '1', showTemporary: false },\n      { name: '拾到', index: '2', showTemporary: true }\n    ],\n    // 启事状态选项列表\n    statusList: [\n      { value: '0', status: '通  过', color: 'info' },\n      { value: '1', status: '不通过', color: '' }\n    ],\n    // 物品类型\n    articleNo: [\n      {\n        value: '0',\n        label: '全部',\n        loseNoShow: true\n      },\n      {\n        value: \"1\",\n        label: \"校园卡\",\n        loseNoShow:true\n      },\n      {\n        value: \"2\",\n        label: \"雨伞\",\n        loseNoShow:false\n      },\n      {\n        value: \"3\",\n        label: \"U盘\",\n        loseNoShow:false\n      },\n      {\n        value: \"4\",\n        label: \"水杯\",\n        loseNoShow:false\n      },\n      {\n        value: \"5\",\n        label: \"耳机\",\n        loseNoShow:false\n      },\n      {\n        value: \"6\",\n        label: \"钥匙\",\n        loseNoShow:false\n      },\n      {\n        value: \"7\",\n        label: \"眼镜\",\n        loseNoShow:false\n      },\n      {\n        value: \"8\",\n        label: \"其他\",\n        loseNoShow:false\n      }\n    ],\n    // 拾到头部\n    headers: [\n      {\n        sortable: false,\n        text: 'ID',\n        value: 'noticeID'\n      },\n      {\n        sortable: false,\n        text: '发布者',\n        value: 'userNo'\n      },\n      {\n        sortable: false,\n        text: '启事类型',\n        value: 'noticeType'\n      },\n      {\n        sortable: false,\n        text: '物品类型',\n        value: 'articleNo'\n      },\n      {\n        sortable: false,\n        text: '地点',\n        value: 'place'\n      },\n      {\n        sortable: false,\n        text: '时间',\n        value: 'time'\n      },\n      {\n        sortable: false,\n        text: '寄存点',\n        value: 'depositPlace'\n      },\n      {\n        sortable: false,\n        text: '电话',\n        value: 'phone'\n      },\n      {\n        sortable: false,\n        text: '失者学号',\n        value: 'loseNo'\n      },\n      {\n        sortable: false,\n        text: '发布时间',\n        value: 'noticeTime'\n      },\n      {\n        sortable: false,\n        text: '状态',\n        value: 'noticeStatus'\n      },\n      {\n        sortable: false,\n        text: '备注',\n        value: 'note',\n        align: 'right'\n      }\n    ]\n  }),\n\n  methods: {\n    changeNoticeStatus (noticeID, noticeStatus) {\n      var that = this\n      that.axios.post('/api/changeNoticeStatus', {\n        noticeID,\n        noticeStatus\n      }).then(function (res) {\n        if (res.data === '0000') {\n          that.$router.push('/n-refresh')\n        }\n      }).catch(function (res) {\n        console.log(res)\n      })\n      // this.search(this.sNoticeType, this.sArticleNo, this.sText)\n    }\n  },\n  computed: {\n    ...mapState({\n      login: state => state.login\n    })\n  },\n  created () {\n    var that = this\n    var sNoticeType = that.sNoticeType\n    var sArticleNo = that.sArticleNo\n    var sText = that.sText\n    var sType = 1\n    that.axios.post('/api/getSearchList', {\n      sNoticeType,\n      sArticleNo,\n      sText,\n      sType\n    }).then(function (res) {\n      that.list = res.data\n    }).catch(function (res) {\n      console.log(res)\n    })\n    if (that.login) {\n    } else {\n      that.$router.push('/admin')\n    }\n  }\n}\n",{"version":3,"sources":["Notifications.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Notifications.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container\n    fluid\n    grid-list-xl\n    fill-height>\n    <v-layout\n      row\n      wrap>\n      <v-flex md12>\n        <material-card\n          color=\"green\"\n          title=\"待审核列表\"\n          text=\"\">\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"list\"\n            hide-actions>\n            <template>\n              <span\n                class=\"subheading font-weight-light text-success text--darken-3\"\n              />\n            </template>\n            <template\n              v-if=\"item.noticeStatus == '2'\"\n              slot=\"items\"\n              slot-scope=\"{ item }\">\n              <td>{{ item.noticeID }}</td>\n              <td>{{ item.userNo }}</td>\n              <td>{{ noticeType[item.noticeType].name }}</td>\n              <td>{{ articleNo[item.articleNo].label }}</td>\n              <td>{{ item.place }}</td>\n              <td>{{ item.time|moment(\"YYYY-MM-DD\") }}</td>\n              <td>{{ item.depositPlace }}</td>\n              <td>{{ item.phone }}</td>\n              <td>{{ item.loseNo }}</td>\n              <td>{{ item.noticeTime|moment(\"YYYY-MM-DD\") }}</td>\n              <td class=\"text-xs-center\">\n                <v-menu offset-y>\n                  <template v-slot:activator=\"{ on }\">\n                    <v-btn\n                      color=\"green\"\n                      dark\n                      v-on=\"on\">待审核</v-btn>\n                  </template>\n                  <v-list>\n                    <v-list-tile\n                      v-for=\"(item2, index) in statusList\"\n                      :key=\"index\">\n                      <v-btn\n                        v-if=\"item2.value=='0'\"\n                        color=\"green\"\n                        @click=\"changeNoticeStatus(item.noticeID, '0')\"\n                      >{{ item2.status }}</v-btn>\n                      <v-btn\n                        v-else\n                        color=\"blue-grey\"\n                        @click=\"changeNoticeStatus(item.noticeID, '3')\"\n                      >{{ item2.status }}</v-btn>\n                    </v-list-tile>\n                  </v-list>\n                </v-menu>\n              </td>\n              <td class=\"text-xs-right\">\n                <el-popover\n                  placement=\"right\"\n                  width=\"400\"\n                  trigger=\"click\">\n                  <p>{{ item.note }}</p>\n                  <v-img :src ='item.uploadImg'></v-img>\n                  <el-button slot=\"reference\">详情</el-button>\n                </el-popover>\n              </td>\n            </template>\n          </v-data-table>\n        </material-card>\n      </v-flex>\n      <v-flex md12>\n        <material-card\n          color=\"blue-grey\"\n          title=\"未通过列表\"\n          text=\"\">\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"list\"\n            hide-actions>\n            <template>\n              <span\n                class=\"subheading font-weight-light text-success text--darken-3\"\n              />\n            </template>\n            <template\n              v-if=\"item.noticeStatus == '3'\"\n              slot=\"items\"\n              slot-scope=\"{ item }\">\n              <td>{{ item.noticeID }}</td>\n              <td>{{ item.userNo }}</td>\n              <td>{{ noticeType[item.noticeType].name }}</td>\n              <td>{{ articleNo[item.articleNo].label }}</td>\n              <td>{{ item.place }}</td>\n              <td>{{ item.time|moment(\"YYYY-MM-DD\") }}</td>\n              <td>{{ item.depositPlace }}</td>\n              <td>{{ item.phone }}</td>\n              <td>{{ item.loseNo }}</td>\n              <td>{{ item.noticeTime|moment(\"YYYY-MM-DD\") }}</td>\n              <td class=\"text-xs-center\">\n                <v-menu offset-y>\n                  <template v-slot:activator=\"{ on }\">\n                    <v-btn\n                      v-if=\"item.noticeStatus == '3'\"\n                      color=\"blue-grey\"\n                      dark\n                      v-on=\"on\">未通过</v-btn>\n                  </template>\n                  <v-list>\n                    <v-list-tile>\n                      <v-btn\n                        color=\"green\"\n                        @click=\"changeNoticeStatus(item.noticeID, '0')\"\n                      >可通过</v-btn>\n                    </v-list-tile>\n                  </v-list>\n                </v-menu>\n              </td>\n              <td class=\"text-xs-right\">\n                <el-popover\n                  placement=\"right\"\n                  width=\"400\"\n                  trigger=\"click\">\n                  <p>{{ item.note }}</p>\n                  <v-img :src ='item.uploadImg'></v-img>\n                  <el-button slot=\"reference\">详情</el-button>\n                </el-popover>\n              </td>\n            </template>\n          </v-data-table>\n        </material-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport {\n  mapState\n} from 'vuex'\nexport default {\n  data: () => ({\n    sNoticeType: '0',\n    sArticleNo: '0',\n    sText: '',\n    list: '',\n    // 启事类型\n    noticeType: [\n      { name: '全部', index: '0', showTemporary: false },\n      { name: '丢失', index: '1', showTemporary: false },\n      { name: '拾到', index: '2', showTemporary: true }\n    ],\n    // 启事状态选项列表\n    statusList: [\n      { value: '0', status: '通  过', color: 'info' },\n      { value: '1', status: '不通过', color: '' }\n    ],\n    // 物品类型\n    articleNo: [\n      {\n        value: '0',\n        label: '全部',\n        loseNoShow: true\n      },\n      {\n        value: \"1\",\n        label: \"校园卡\",\n        loseNoShow:true\n      },\n      {\n        value: \"2\",\n        label: \"雨伞\",\n        loseNoShow:false\n      },\n      {\n        value: \"3\",\n        label: \"U盘\",\n        loseNoShow:false\n      },\n      {\n        value: \"4\",\n        label: \"水杯\",\n        loseNoShow:false\n      },\n      {\n        value: \"5\",\n        label: \"耳机\",\n        loseNoShow:false\n      },\n      {\n        value: \"6\",\n        label: \"钥匙\",\n        loseNoShow:false\n      },\n      {\n        value: \"7\",\n        label: \"眼镜\",\n        loseNoShow:false\n      },\n      {\n        value: \"8\",\n        label: \"其他\",\n        loseNoShow:false\n      }\n    ],\n    // 拾到头部\n    headers: [\n      {\n        sortable: false,\n        text: 'ID',\n        value: 'noticeID'\n      },\n      {\n        sortable: false,\n        text: '发布者',\n        value: 'userNo'\n      },\n      {\n        sortable: false,\n        text: '启事类型',\n        value: 'noticeType'\n      },\n      {\n        sortable: false,\n        text: '物品类型',\n        value: 'articleNo'\n      },\n      {\n        sortable: false,\n        text: '地点',\n        value: 'place'\n      },\n      {\n        sortable: false,\n        text: '时间',\n        value: 'time'\n      },\n      {\n        sortable: false,\n        text: '寄存点',\n        value: 'depositPlace'\n      },\n      {\n        sortable: false,\n        text: '电话',\n        value: 'phone'\n      },\n      {\n        sortable: false,\n        text: '失者学号',\n        value: 'loseNo'\n      },\n      {\n        sortable: false,\n        text: '发布时间',\n        value: 'noticeTime'\n      },\n      {\n        sortable: false,\n        text: '状态',\n        value: 'noticeStatus'\n      },\n      {\n        sortable: false,\n        text: '备注',\n        value: 'note',\n        align: 'right'\n      }\n    ]\n  }),\n\n  methods: {\n    changeNoticeStatus (noticeID, noticeStatus) {\n      var that = this\n      that.axios.post('/api/changeNoticeStatus', {\n        noticeID,\n        noticeStatus\n      }).then(function (res) {\n        if (res.data === '0000') {\n          that.$router.push('/n-refresh')\n        }\n      }).catch(function (res) {\n        console.log(res)\n      })\n      // this.search(this.sNoticeType, this.sArticleNo, this.sText)\n    }\n  },\n  computed: {\n    ...mapState({\n      login: state => state.login\n    })\n  },\n  created () {\n    var that = this\n    var sNoticeType = that.sNoticeType\n    var sArticleNo = that.sArticleNo\n    var sText = that.sText\n    var sType = 1\n    that.axios.post('/api/getSearchList', {\n      sNoticeType,\n      sArticleNo,\n      sText,\n      sType\n    }).then(function (res) {\n      that.list = res.data\n    }).catch(function (res) {\n      console.log(res)\n    })\n    if (that.login) {\n    } else {\n      that.$router.push('/admin')\n    }\n  }\n}\n</script>\n"]}]}
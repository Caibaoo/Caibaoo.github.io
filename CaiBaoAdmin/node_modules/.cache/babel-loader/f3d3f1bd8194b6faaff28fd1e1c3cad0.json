{"remainingRequest":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\thread-loader\\dist\\cjs.js!D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\babel-loader\\lib\\index.js!D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\src\\views\\UserList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\src\\views\\UserList.vue","mtime":1555724279929},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\大创\\2019应用能力大赛\\swhelper后台界面\\swhelper1.0\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"D:\\\\\\u5927\\u521B\\\\2019\\u5E94\\u7528\\u80FD\\u529B\\u5927\\u8D5B\\\\swhelper\\u540E\\u53F0\\u754C\\u9762\\\\swhelper1.0\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nexport default {\n  data: function data() {\n    return {\n      // 用于列表 分页的page\n      page: 1,\n      // 用户列表 表格头部\n      headers: [{\n        sortable: false,\n        text: 'ID',\n        value: 'userID'\n      }, {\n        sortable: false,\n        text: '姓名',\n        value: 'realName'\n      }, {\n        sortable: false,\n        text: '学号',\n        value: 'userNo'\n      }, {\n        sortable: false,\n        text: '昵称',\n        value: 'userName'\n      }, {\n        sortable: false,\n        text: '电话',\n        value: 'phone'\n      }, {\n        sortable: false,\n        text: '邮箱',\n        value: 'email'\n      }, {\n        sortable: false,\n        text: '密码',\n        value: 'password'\n      }, {\n        sortable: false,\n        text: '状态',\n        value: 'status',\n        align: 'right'\n      }],\n      // 本页面的 用户信息列表\n      userInfoList: [],\n      // 本页面 当前分页的用户信息列表\n      userInfoListPage: [],\n      // 用户状态选项列表\n      statusList: [{\n        value: '000',\n        status: '正常',\n        color: 'green'\n      }, {\n        value: '100',\n        status: '警告',\n        color: 'orange'\n      }, {\n        value: '200',\n        status: '已封',\n        color: 'red'\n      }],\n      // 搜索的用户关键词\n      sUserInfo: ''\n    };\n  },\n  methods: {\n    test: function test() {\n      console.log('hh');\n    },\n    listPage: function listPage(page) {\n      this.userInfoListPage = [];\n      console.log(page);\n      var start = page * 20 - 20;\n      var end = start + 20;\n\n      for (var i = start; i < end; i++) {\n        if (this.userInfoList[i] != undefined) {\n          this.userInfoListPage.push(this.userInfoList[i]);\n        } else {\n          break;\n        }\n      }\n\n      console.log(this.userInfoListPage);\n    },\n    // 改变指定用户的状态\n    changeUserStatus: function changeUserStatus(userID, status) {\n      console.log(userID, status);\n      var that = this;\n      that.axios.post('/api/changeUserStatus', {\n        userID: userID,\n        status: status\n      }).then(function (res) {\n        if (res.data === '0000') {\n          that.$router.push('/u-refresh');\n        }\n      }).catch(function (res) {\n        console.log(res);\n      });\n    },\n    // 得到用户信息列表\n    getSearchUserInfo: function getSearchUserInfo(sUserInfo) {\n      var that = this; // 获取用户信息并存储在本地仓库\n\n      this.axios.post('/api/getSearchUserInfo', {\n        sUserInfo: sUserInfo\n      }).then(function (res) {\n        that.$store.state.userInfoList = res.data;\n        that.userInfoList = res.data;\n        that.maxPage = Math.ceil(res.data.length / 20); // 再次搜索请求时，将原有的清空\n\n        that.userInfoListPage = [];\n\n        for (var i = 0; i < 20; i++) {\n          if (that.userInfoList[i] != undefined) {\n            that.userInfoListPage.push(that.userInfoList[i]);\n          } else {\n            break;\n          }\n        }\n\n        console.log(that.userInfoListPage);\n      }).catch(function (res) {\n        console.log(res);\n      });\n    }\n  },\n  computed: _objectSpread({}, mapState({\n    login: function login(state) {\n      return state.login;\n    }\n  })),\n  created: function created() {\n    if (this.login) {\n      var that = this;\n      that.getSearchUserInfo(that.sUserInfo);\n    } else {\n      this.$router.push('/admin');\n    }\n  }\n};",{"version":3,"sources":["UserList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-container\n    fill-height\n    fluid\n    grid-list-xl>\n    <v-layout\n      justify-center\n      wrap>\n      <v-flex\n        xs6\n        class=\"text-xs-right\">\n        <el-form label-position=\"right\">\n          <el-form-item label=\"\">\n            <el-input\n              v-model=\"sUserInfo\"\n              placeholder=\"搜索关键字\"\n              style=\"width:200px\"\n            ></el-input>\n          </el-form-item>\n        </el-form>\n      </v-flex>\n      <v-flex\n        xs6\n        class=\"text-xs-center\">\n        <el-button\n          style=\"center\"\n          size=\"medium\"\n          type=\"warning\"\n          @click=\"getSearchUserInfo(sUserInfo)\"\n        >搜索</el-button>\n      </v-flex>\n      <v-flex md12>\n        <material-card\n          color=\"green\"\n          title=\"用户信息列表\"\n          text=\"\">\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"userInfoListPage\"\n            hide-actions>\n            <template>\n              <span\n                class=\"subheading font-weight-light text-success text--darken-3\"\n              />\n            </template>\n            <template\n              slot=\"items\"\n              slot-scope=\"{ item }\">\n              <td>{{ item.userID }}</td>\n              <td>{{ item.realName }}</td>\n              <td>{{ item.userNo }}</td>\n              <td>{{ item.userName }}</td>\n              <td>{{ item.phone }}</td>\n              <td>{{ item.email }}</td>\n              <td>{{ item.password }}</td>\n              <td class=\"text-xs-right\">\n                <v-menu offset-y>\n                  <template v-slot:activator=\"{ on }\">\n                    <v-btn\n                      v-if=\"item.status=='000'\"\n                      color=\"green\"\n                      dark\n                      v-on=\"on\">正常</v-btn>\n                    <v-btn\n                      v-else-if=\"item.status=='100'\"\n                      color=\"orange\"\n                      dark\n                      v-on=\"on\">警告</v-btn>\n                    <v-btn\n                      v-else\n                      color=\"red\"\n                      dark\n                      v-on=\"on\">已封</v-btn>\n                  </template>\n                  <v-list>\n                    <v-list-tile\n                      v-for=\"(item2, index) in statusList\"\n                      :key=\"index\">\n                      <v-btn\n                        v-if=\"item2.value=='000'\"\n                        color=\"green\"\n                        @click=\"changeUserStatus(item.userID, '000')\"\n                      >{{ item2.status }}</v-btn>\n                      <v-btn\n                        v-else-if=\"item2.value=='100'\"\n                        color=\"orange\"\n                        @click=\"changeUserStatus(item.userID, '100')\"\n                      >{{ item2.status }}</v-btn>\n                      <v-btn\n                        v-else\n                        color=\"red\"\n                        @click=\"changeUserStatus(item.userID, '200')\"\n                      >{{ item2.status }}</v-btn>\n                    </v-list-tile>\n                  </v-list>\n                </v-menu>\n                <!-- <v-btn\n                  v-if=\"item.status == '000'\"\n                  color=\"green\"\n                  dark\n                  @click=\"changeUserStatus(item.userID)\"\n                  v-on=\"on\"\n                >正常\n                </v-btn>\n                <v-btn\n                  v-else-if=\"item.status == '100'\"\n                  color=\"orange\"\n                  dark\n                  v-on=\"on\"\n                >警告</v-btn>\n                <v-btn\n                  v-else\n                  color=\"red\"\n                  dark\n                  v-on=\"on\"\n                >已封</v-btn>-->\n              </td>\n            </template>\n          </v-data-table>\n        </material-card>\n      </v-flex>\n      <div\n        class=\"text-xs-center\"\n        @click=\"listPage(page)\"\n      >\n        <v-pagination\n          v-model=\"page\"\n          :length=\"maxPage\"\n          :total-visible=\"7\"\n        ></v-pagination>\n      </div>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport {\n  mapState\n} from 'vuex'\nexport default {\n  data: () => ({\n    // 用于列表 分页的page\n    page: 1,\n    // 用户列表 表格头部\n    headers: [\n      {\n        sortable: false,\n        text: 'ID',\n        value: 'userID'\n      },\n      {\n        sortable: false,\n        text: '姓名',\n        value: 'realName'\n      },\n      {\n        sortable: false,\n        text: '学号',\n        value: 'userNo'\n      },\n      {\n        sortable: false,\n        text: '昵称',\n        value: 'userName'\n      },\n      {\n        sortable: false,\n        text: '电话',\n        value: 'phone'\n      },\n      {\n        sortable: false,\n        text: '邮箱',\n        value: 'email'\n      },\n      {\n        sortable: false,\n        text: '密码',\n        value: 'password'\n      },\n      {\n        sortable: false,\n        text: '状态',\n        value: 'status',\n        align: 'right'\n      }\n    ],\n    // 本页面的 用户信息列表\n    userInfoList: [],\n    // 本页面 当前分页的用户信息列表\n    userInfoListPage: [],\n    // 用户状态选项列表\n    statusList: [\n      { value: '000', status: '正常', color: 'green' },\n      { value: '100', status: '警告', color: 'orange' },\n      { value: '200', status: '已封', color: 'red' }\n    ],\n    // 搜索的用户关键词\n    sUserInfo: '',\n  }),\n  methods: {\n    test () {\n      console.log('hh')\n    },\n    listPage (page) {\n      this.userInfoListPage = []\n      console.log(page)\n      var start = page*20 - 20\n      var end = start + 20\n      for( var i = start; i < end; i++){\n        if( this.userInfoList[i] != undefined ){\n          this.userInfoListPage.push(this.userInfoList[i])\n        } else {\n          break\n        }\n      }\n      console.log(this.userInfoListPage)\n    },\n    // 改变指定用户的状态\n    changeUserStatus (userID, status) {\n      console.log(userID, status)\n      var that = this\n      that.axios\n        .post('/api/changeUserStatus', {\n          userID,\n          status\n        })\n        .then(function (res) {\n          if (res.data === '0000') {\n            that.$router.push('/u-refresh')\n          }\n        })\n        .catch(function (res) {\n          console.log(res)\n        })\n    },\n    // 得到用户信息列表\n    getSearchUserInfo (sUserInfo) {\n      var that = this\n      // 获取用户信息并存储在本地仓库\n      this.axios\n        .post('/api/getSearchUserInfo', {\n          sUserInfo\n        }).then(function (res) {\n          that.$store.state.userInfoList = res.data\n          that.userInfoList = res.data\n          that.maxPage = Math.ceil(res.data.length/20)\n          // 再次搜索请求时，将原有的清空\n          that.userInfoListPage = []\n          for( var i = 0; i < 20; i++){\n            if( that.userInfoList[i] != undefined ){\n              that.userInfoListPage.push(that.userInfoList[i])\n            } else {\n              break\n            }\n          }\n          console.log(that.userInfoListPage)\n        })\n        .catch(function (res) {\n          console.log(res)\n        })\n    }\n  },\n  computed: {\n    ...mapState({\n      login: state => state.login\n    })\n  },\n  created () {\n    if (this.login) {\n      var that = this\n      that.getSearchUserInfo(that.sUserInfo)\n    } else {\n      this.$router.push('/admin')\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views"}]}